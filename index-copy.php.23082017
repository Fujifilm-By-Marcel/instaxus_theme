<?php get_header() ?>


    <?php
    $logancee_options = logancee_get_options();

    $post_layout = $logancee_options['layout-type-single-post'];
    $blog_layout = $logancee_options['layout-type-blog'];

    $post_layout = (isset($_GET['layout-type-single-post'])) ? $_GET['layout-type-single-post'] : $post_layout;
    $blog_layout = (isset($_GET['layout-type-blog'])) ? $_GET['layout-type-blog'] : $blog_layout;

    $wrap_class = '';
    $post_class = 'post';

    if($logancee_options['blog-article_list_template'] == 'grid_3_columns'){
        $post_class .= ' post-with-3-columns ';
    }

    ?>

    <div id="content" role="main">

    <div class="container">
<?php $tags_array = get_tags( $args ); ?> 

    <?php if($logancee_options['blog-article_list_template'] != 'logancee'): ?>
        <div class="posts posts-wrap <?php echo esc_attr($wrap_class) ?> <?php echo $logancee_options['blog-article_list_template']; ?> <?php if($logancee_options['blog-article_list_template'] == 'grid' || $logancee_options['blog-article_list_template'] == 'grid_3_columns'): ?> posts-grid <?php endif; ?> <?php if($logancee_options['blog-article_list_template'] == 'grid_3_columns'): ?> posts-3-columns-grid <?php endif; ?> clearfix">

            <?php
            $post_count = 1;
            $prev_post_timestamp = null;
            $prev_post_month = null;
            $first_timeline_loop = false;
            while (have_posts()) : the_post();
                $post_timestamp = strtotime($post->post_date);
                $post_month = date('n', $post_timestamp);
                $post_year = get_the_date('o');
                $current_date = get_the_date('o-n');
                $slideshow_type = get_post_meta($post->ID, 'slideshow_type', true);
                $classes = ' post-item';
                ?>

                <?php if ($post_layout == 'grid') : ?>
                    <?php
                    if (($blog_layout == 'left-sidebar' || $blog_layout == 'right-sidebar'))
                        $classes .= ' col-md-6 col-sm-12';
                    else
                        $classes .= ' col-md-4 col-sm-6 col-xs-12';
                    ?>
                <?php endif; ?>

                <?php if ($post_layout == 'timeline') : ?>
                    <?php
                    if (($blog_layout == 'left-sidebar' || $blog_layout == 'right-sidebar'))
                        $classes .= ' col-md-6 col-sm-12'.($post_count % 2 == 1?' align-left':' align-right');
                    else
                        $classes .= ' col-sm-6 col-xs-12'.($post_count % 2 == 1?' align-left':' align-right');
                    ?>
                <?php endif; ?>

                <div id="post-<?php the_ID(); ?>" <?php post_class($post_class . $classes . ' clearfix'); ?>>
                    <div class="post-content">

                        <?php if(get_the_post_thumbnail_url()):?>
                            <div class="post-media">
                                <?php the_post_thumbnail(); ?>
                            </div><!-- .post-thumbnail -->
                        <?php endif; ?>

                        <div class="post-text">
                            <?php $tags_list = get_the_tag_list( '', esc_html__( '', 'logancee' ) );
                            if ( $tags_list ) {
                                echo '<div class="tags">';
                                printf( '<span class="tags-links">' . esc_html__( '%1$s', 'logancee' ) . '</span>', $tags_list ); // WPCS: XSS OK.
                                echo '</div>';
                            }

                            ?>

                            <h2 class="post-title"><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                            <ul class="meta">

                                <li>
                                    <span class="month">
                                        <?php echo get_the_time('M', get_the_ID()); ?>
                                    </span>
                                    <span class="day">
                                        <?php echo get_the_time('d', get_the_ID()); ?>
                                    </span>
                                    <span class="day">
                                        <?php echo get_the_time('Y', get_the_ID()); ?>
                                    </span>
                                </li>
                                <?php if(get_the_author_posts_link()):?>
                                    <li class="post-author">
                                        <?php echo esc_html__('By', 'logancee'); ?> <span><?php the_author_posts_link(); ?></span>
                                    </li>
                                <?php endif; ?>
                                <?php if(has_category()):?>
                                    <li class="post-categories">
                                        <?php echo __( 'In', 'logancee' ); ?>: <?php the_category('&nbsp;'); ?>
                                    </li>
                                <?php endif; ?>
                            </ul>

                            <div class="post-description">
                                <?php
                                echo logancee_excerpt( );
                                ?>
                            </div>
                        </div>

                    </div>

                </div>

                <?php
                $prev_post_timestamp = $post_timestamp;
                $prev_post_month = $post_month;
                $post_count++;
            endwhile;
            ?>
        </div>
    <?php else: ?>
        <div class="posts <?php echo esc_attr($wrap_class) ?>">
            <?php
            $post_count = 1;
            $prev_post_timestamp = null;
            $prev_post_month = null;
            $first_timeline_loop = false;
            while (have_posts()) : the_post();
                $post_timestamp = strtotime($post->post_date);
                $post_month = date('n', $post_timestamp);
                $post_year = get_the_date('o');
                $current_date = get_the_date('o-n');
                $slideshow_type = get_post_meta($post->ID, 'slideshow_type', true);
                $classes = '  postWrapper post ';
                ?>

                <div <?php post_class($post_class . $classes); ?>>
                    <?php if(get_the_post_thumbnail_url()):?>
                        <div class="post-media">
                            <?php the_post_thumbnail(); ?>
                        </div><!-- .post-thumbnail -->
                    <?php endif; ?>

                    <div class="title-blog"><h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2></div>
                    <div class="postDetails">
                        <?php printf( _nx( 'One Comment', '%1$s Comments', get_comments_number(), 'comments title', 'logancee' ), number_format_i18n( get_comments_number() ) )?>
                        <?php if(get_the_author_posts_link()):?>
                            <span class="post-author">
                                    | <?php echo esc_html__('By', 'logancee'); ?> <span><?php the_author_posts_link(); ?></span>
                                </span>
                        <?php endif; ?>
                        <div class="create-time"><?php echo get_the_time('d/m/Y G:i', get_the_ID()); ?></div>
                    </div>
                    <div class="postContent"><?php echo logancee_excerpt( ); ?></div>
                    <div class="bookmark-blog"></div>
                    
                </div>
                <?php
                $prev_post_timestamp = $post_timestamp;
                $prev_post_month = $post_month;
                $post_count++;
            endwhile; ?>
        </div>
    <?php endif; ?>


    <?php logancee_pagination($pages = '', $range = 2); ?>
    <?php wp_reset_postdata(); ?>
</div>
</div>

<?php get_footer() ?>


